(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{33:function(e,t,c){},58:function(e,t){},77:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),o=c(28),i=c.n(o),a=(c(33),c(5)),j=c(2),r=c(7),l=c(4),h=c(10),b=c.n(h),d=(c(77),c(0)),m=function(){return Object(n.useEffect)((function(){var e=document.getElementsByTagName("header")[0],t=e.offsetTop;window.onscroll=function(){window.scrollY>t?e.classList.add("sticky"):e.classList.remove("sticky")}})),Object(d.jsxs)("header",{children:[Object(d.jsx)("h1",{className:"logo",children:"My Blog"}),Object(d.jsxs)("div",{children:[Object(d.jsx)(a.b,{to:"/",className:"header-links",children:"Home"}),Object(d.jsx)(a.b,{to:"/about",className:"header-links",children:"About"})]})]})},u=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1];Object(n.useEffect)((function(){fetch("https://morning-escarpment-88966.herokuapp.com/api/posts").then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){console.log(e)}))}),[]);var o,i=[],j=Object(r.a)(c);try{for(j.s();!(o=j.n()).done;){var h=o.value;i.push(Object(d.jsx)(a.b,{to:"/posts/".concat(h._id),className:"post-link",children:Object(d.jsxs)("div",{className:"post-container",children:[Object(d.jsx)("h2",{children:h.title}),Object(d.jsx)("div",{children:b()(h.text)})]},h._id)}))}}catch(u){j.e(u)}finally{j.f()}return Object(d.jsxs)("div",{children:[Object(d.jsx)(m,{}),Object(d.jsx)("div",{className:"flex-container content",children:Object(d.jsx)("div",{className:"all-posts",children:i})})]})},O=function(){var e=Object(j.g)().postid;return Object(d.jsxs)("div",{id:"comment-form-container",children:[Object(d.jsx)("h1",{children:"Leave a Comment"}),Object(d.jsxs)("form",{action:"https://morning-escarpment-88966.herokuapp.com/api/posts/".concat(e,"/comments"),method:"POST",id:"comment-form",children:[Object(d.jsx)("label",{htmlFor:"author"})," Your Name",Object(d.jsx)("input",{type:"text",required:!0,name:"author",className:"comment-input"}),Object(d.jsx)("label",{htmlFor:"commentText"})," Comment",Object(d.jsx)("textarea",{name:"commentText",required:!0,rows:"10",cols:"10",className:"comment-input"}),Object(d.jsx)("input",{type:"hidden",name:"postUrl",value:window.location.href}),Object(d.jsx)("button",{type:"submit",id:"comment-submit",children:"Submit Comment"})]})]})},x=function(){var e=Object(j.g)().postid,t=Object(n.useState)([]),c=Object(l.a)(t,2),s=c[0],o=c[1],i=Object(n.useState)([]),a=Object(l.a)(i,2),h=a[0],u=a[1];Object(n.useEffect)((function(){fetch("https://morning-escarpment-88966.herokuapp.com/api/posts/".concat(e)).then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){console.log(e)})),fetch("https://morning-escarpment-88966.herokuapp.com/api/posts/".concat(e,"/comments")).then((function(e){return e.json()})).then((function(e){u(e)})).catch((function(e){console.log(e)}))}),[e]);var x,p=[],f=Object(r.a)(h);try{for(f.s();!(x=f.n()).done;){var v=x.value;p.push(Object(d.jsxs)("div",{className:"comment",children:[Object(d.jsxs)("h3",{children:[v.author,":"]}),Object(d.jsx)("p",{children:v.text})]},v._id))}}catch(g){f.e(g)}finally{f.f()}return console.log(s),Object(d.jsxs)("div",{children:[Object(d.jsx)(m,{}),Object(d.jsxs)("div",{className:"flex-container content",children:[Object(d.jsxs)("div",{id:"post",children:[Object(d.jsx)("h2",{children:s.title}),Object(d.jsx)("div",{children:b()(s.text)}),Object(d.jsx)("span",{children:s.date_format})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("h2",{children:"Comments:"}),Object(d.jsx)("div",{className:"all-comments",children:p}),Object(d.jsx)("hr",{}),Object(d.jsx)(O,{})]})]})},p=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(m,{}),Object(d.jsx)("h1",{children:"About Page"}),Object(d.jsx)("p",{children:"(coming soon)"})]})},f=function(){return Object(d.jsx)(a.a,{basename:"/Blog-Frontend",children:Object(d.jsxs)(j.c,{children:[Object(d.jsx)(j.a,{exact:!0,path:"/",element:Object(d.jsx)(u,{})}),Object(d.jsx)(j.a,{exact:!0,path:"/posts/:postid",element:Object(d.jsx)(x,{})}),Object(d.jsx)(j.a,{exact:!0,path:"/about",element:Object(d.jsx)(p,{})})]})})};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.ee796c12.chunk.js.map